---
import { info } from "@data";

import Layout from "@layouts/Layout.astro";
import Hero from "@components/home/Hero.astro";
import Experience from "@components/home/Experience.astro";
import ProjectsWrapper from "@components/home/ProjectsWrapper.astro";
import MetaHead from "@components/general/MetaHead.astro";

const featuredProjects = [];
const featuredLimit = 6;
let featuredCount = 0;
filterFeatured: for (const project of info.projects) {
    if (project.isFeatured) {
        featuredProjects.push(project);
        if (++featuredCount === featuredLimit) {
            break filterFeatured;
        }
    }
}
---

<!DOCTYPE html>
<html lang="en">
    <head>
        <MetaHead
            title={"Portfolio"}
            description={info.metaDescriptions.home}
            ogImageUrl={info.ogImageUrl}
        />
    </head>
    <body>
        <Layout>
            <Hero name={info.name} summary={info.summary} />
            <div class="flex">
                <a
                    target="_blank"
                    href={info.resumeUrl}
                    aria-label="download-resume"
                    class="download-resume"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-file-text inline-block"
                        ><path
                            d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                        ></path><polyline points="14 2 14 8 20 8"
                        ></polyline><line x1="16" y1="13" x2="8" y2="13"
                        ></line><line x1="16" y1="17" x2="8" y2="17"
                        ></line><polyline points="10 9 9 9 8 9"></polyline></svg
                    >
                    <span class="ml-1 text-sm leading-none"
                        >Download My Resume</span
                    >
                </a>
            </div>
            <Experience title={"EXPERIENCE"} details={info.experience} />
            <Experience title={"EDUCATION"} details={info.education} />
            <Experience
                title={"CERTIFICATIONS"}
                details={info.certifications}
            />

            <section class="mt-16">
                <h2 class="dark:text-light">FEATURED PROJECTS</h2>
                <ProjectsWrapper projects={featuredProjects} />
            </section>
        </Layout>
    </body>
</html>
